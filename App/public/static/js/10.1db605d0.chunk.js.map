{"version":3,"sources":["component/login.js"],"names":["InputText","loadable","__webpack_require__","e","then","bind","LoadingSlider","MoreInfoButton","withRedux","props","_useObserveChanges","useSelector","state","observeChanges","forms","goDark","rdxOK","dispatch","useDispatch","updKV","k","v","type","kv","key","value","_Util","updForms","form","field","_forms","_updFormObs","_generateToken","q","vS","generateToken","_verifyToken","verifyToken","useObserveChanges","_state","_useState","useState","_useState2","Object","E_newProject_Monorepo_AmzFlx_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","initialize","setInitialize","_useState3","_useState4","_useState5","_useState6","viewport","setviewport","_form","useEffect","setTimeout","window","scrollTo","email","handleSentEmail","params","query","handleConfirmToken","i","_code","console","log","code","loginProfile","phonecode","errorCode","errorMsg","userA","codeTitle","os","en","concat","es","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","is-in-viewport","aria-hidden","aria-labelledby","role","btn-dt-id","encode","style","minWidth","icon","keyCode","background","color","inputColor","placeholder","OnChange","f","frm","_i","toUpperCase","length","handleInput","validations","reqired","uppercase","initvalue","title","theme","clickEvent","onClick","--color-tab--base--hover","stroke","height","width"],"mappings":"2LAcMA,UAAYC,YAAS,kBAAMC,EAAAC,EAAA,GAAAC,KAAAF,EAAAG,KAAA,cAG3BC,EAAgBL,YAAS,kBAAMC,EAAAC,EAAA,GAAAC,KAAAF,EAAAG,KAAA,aAG/BE,EAAiBN,YAAS,kBAAMC,EAAAC,EAAA,IAAAC,KAAAF,EAAAG,KAAA,aA8PtBG,sBAxLD,SAACC,GAAQ,IAAAC,EAjEE,WACAC,YAAY,SAAAC,GAAK,OAAIA,EAAMC,iBAAnD,IAEMC,EAAQH,YAAY,SAAAC,GAAK,OAAIA,EAAME,QAEnCC,GADQJ,YAAY,SAAAC,GAAK,OAAIA,EAAMI,QAC1BL,YAAY,SAAAC,GAAK,OAAIA,EAAMG,UAEpCE,EAAWC,cAgDjB,MAAO,CAAGC,MA/CG,SAACC,EAAEC,GACdJ,EAAS,CACPK,KAAM,gBACNC,GAAG,CAACC,IAAIJ,EAAEK,MAAMJ,KAElBJ,EAAS,CACPK,KAAM,gBACNC,GAAG,CAACC,IAAI,iBAAiBC,MAAMC,UAwCjBX,SAAQD,QAAQa,SApClB,SAACC,EAAKC,EAAMR,GAC1B,IAAIS,EAAShB,EACTgB,EAAOF,KACTE,EAAOF,GAAQ,IAEjBE,EAAOF,GAAMC,GAASR,EACtBJ,EAAS,CACPK,KAAM,gBACNC,GAAG,CAACC,IAAI,QAAQC,MAAMK,KAExBb,EAAS,CACPK,KAAM,gBACNC,GAAG,CAACC,IAAI,iBAAiBC,MAAMC,UAwBSK,YAnBxB,WAClBd,EAAS,CACPK,KAAM,gBACNC,GAAG,CAACC,IAAI,eAAeC,MAAMC,UAgByBM,eAXpC,SAACC,EAAEC,GACvBC,YAAcF,EAAEhB,EAASiB,IAU+CE,aAPrD,SAACH,EAAEC,GACtBG,YAAYJ,EAAEhB,EAASiB,KAkB+CI,GAA/DP,EAFarB,EAEbqB,YAA8BC,GAFjBtB,EAEAI,MAFAJ,EAEOiB,SAFPjB,EAEiBsB,gBAAgBI,EAFjC1B,EAEiC0B,aAEnDG,EAASb,MAJSc,GAKXd,MAIyBe,oBAAS,IATvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GASfK,EATeH,EAAA,GASHI,EATGJ,EAAA,GAAAK,EAUQN,oBAAS,GAVjBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAAAE,GAAAD,EAAA,GAAAA,EAAA,GAgBUP,oBAAS,IAhBnBS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAgBfE,EAhBeD,EAAA,GAgBLE,EAhBKF,EAAA,GAmBhBG,EAAQ3B,IADI,WAC6B,GAS/C4B,oBAAU,WACJT,IACFC,GAAc,GACdS,WAAW,WACTC,OAAOC,SAAS,EAAE,GAClBL,GAAY,GACZ1B,IAhBY,SAgBiB,CAACgC,MAAM,4BACpC3B,KACA,QAKR,IAcM4B,EAAkB,SAAC1B,GACvB,IAAIyB,EAASL,EAAMA,EAAK,MAAU,KAC/BK,GAKD1B,EAJU,CACR4B,OAAO,CAACF,MAAMA,GACdG,MAAM,iBAEY,iBAIlBC,EAAqB,SAACC,GAC1B,IAAIC,EAASD,IAAIV,EAAMA,EAAK,KAAS,MACrCY,QAAQC,IAAI,2BAA2BF,GACpCA,GAKD5B,EAJU,CACRwB,OAAO,CAACO,KAAKH,GACbH,MAAM,eAEU,SAKlBO,EAAe7B,EAAM,cAAoB,GACtC4B,EAAwCC,EAAxCD,KAAME,EAAkCD,EAAlCC,UAAWC,EAAuBF,EAAvBE,UAAWC,EAAYH,EAAZG,SA6B/BC,EAAQ9C,MAIR+C,GAFwB,YAAbD,EAAME,IAAiC,WAAbF,EAAME,IAAmBnC,EAAM,WAExD,CACdoC,GAAA,8DAAAC,OAAmEP,GACnEQ,GAAA,wEAAAD,OAA6EP,KAM/E,OACES,EAAAC,EAAAC,cAAA,OAAKC,UAAS,iBAAAL,OAAmBN,EAAU,SAAS,KACjDzB,EACDiC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAkBC,iBAAA,GAAAN,OAAmBzB,IAChD2B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kGAAkGE,eAAa,EAAMC,kBAAgB,GAAG5D,IAAK,UAAW6D,KAAK,YAC1KP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mHACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yDACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4FACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,2CAA4CK,YAAA,GAAAV,OAAclD,IAAa6D,OAAb,iBAAAX,OAAqC,WAA7G,GAAAA,OAA8HN,EAAUC,EAASJ,EAAK,6CAAuC,UAC7LW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mDACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,8BAAiCO,MAAO,CAACC,SAAQ,SAC7DX,EAAAC,EAAAC,cAAA,OAAKC,UAAW,+BACdH,EAAAC,EAAAC,cAAA,OAAMC,UAAU,oBAAoBX,EAAUC,EAASJ,EAAKM,EAAS,GAhDpF,4BAkDaK,EAAAC,EAAAC,cAAA,OAAKC,UAAW,+BACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,gBACVH,EAAAC,EAAAC,cAAChF,EAAD,CACE0F,KAAI,YACJ9D,KAAM,QACNC,MAAOsC,EAAI,eACXwB,QAAS,GACTC,WAAYtB,EAAU,UAAD,UACrBuB,MAAK,OACLC,WAAU,OACVC,YAAa5B,EAAI,eACjB6B,SAAU,SAAC7F,GAAD,OAzDlB,SAACkB,EAAE4E,GACrB,IAAIC,EAAO7C,EAEX,GADAY,QAAQC,IAAIgC,GACT/B,EAAK,CACN,IAAIgC,EAAK9E,EAAE+E,cACXF,EAAID,GAAKE,EACTlC,QAAQC,IAAI,KAAKiC,GAEdA,EAAGE,OAAO,GACTvC,EAAmBqC,QAGvBD,EAAID,GAAK5E,EAEXK,IArFkB,SAqFWwE,GAC7BnE,IA0CyCuE,CAAYnG,EAAEgE,EAAI,iBACjCoC,YA7HV,CACd7C,MAAM,CAAC8C,SAAQ,EAAM9C,OAAM,GAC3BS,KAAK,CAACqC,SAAS,EAAMC,WAAU,IA2HctC,EAAI,gBACzBuC,UAAWrD,EAAMc,EAAI,oBAI7BW,EAAAC,EAAAC,cAAA,OAAKC,UAAW,+BACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,aACdH,EAAAC,EAAAC,cAACzE,EAAD,CAAgBoG,MAAOxC,EAAI,sBAAyByC,MAAO,OAAQlB,KAAM,OAAQmB,WAAY,WA5G9G1C,EACDL,IAEAH,SA4GiBQ,EACDW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BAA8B6B,QAtH5C,SAAC7E,KAsHsEuD,MAAO,CAACuB,2BAA2B,SACzGjC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACfH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kBAAhB,0BAGL,YAQhB,KACC9B,EAID,KAHC2B,EAAAC,EAAAC,cAAA,OAAKC,WAAS,GACZH,EAAAC,EAAAC,cAAC1E,EAAD,CAAe0G,OAAQ,OAAQC,OAAQ,IAAKC,MAAO","file":"static/js/10.1db605d0.chunk.js","sourcesContent":["\r\nimport React, { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport * as _Util from '../store/Util'\r\nimport { withRedux } from '../store/redux';\r\n\r\nimport { LoadData, generateToken, verifyToken } from '../actions/common';\r\n\r\nimport loadable from '@loadable/component'\r\n\r\nimport  './style_login.css';\r\n\r\n\r\n\r\nconst InputText = loadable(() => import('./InputText'))\r\n\r\n\r\nconst LoadingSlider = loadable(() => import('./LoadingColorSpinner'))\r\n\r\n\r\nconst MoreInfoButton = loadable(() => import('./MoreInfoButton'))\r\n\r\n\r\n\r\n\r\nconst useObserveChanges = () => {\r\n  const observeChanges =  useSelector(state => state.observeChanges);\r\n  const _state =  {};  \r\n  const forms = useSelector(state => state.forms);\r\n  const rdxOK = useSelector(state => state.rdxOK);\r\n  const goDark = useSelector(state => state.goDark);\r\n  \r\n  const dispatch = useDispatch();\r\n  const updKV= (k,v) => {\r\n    dispatch({\r\n      type: 'UPD_KEY_VALUE',\r\n      kv:{key:k,value:v}\r\n    })  \r\n    dispatch({\r\n      type: 'UPD_KEY_VALUE',\r\n      kv:{key:\"observeChanges\",value:_Util.gen12CodeId()}\r\n    })  \r\n  }\r\n\r\n  const updForms= (form,field,v) => {\r\n    let _forms = forms;\r\n    if(!_forms[form]){\r\n      _forms[form] = {};\r\n    }\r\n    _forms[form][field] = v;    \r\n    dispatch({\r\n      type: 'UPD_KEY_VALUE',\r\n      kv:{key:'forms',value:_forms}\r\n    })   \r\n    dispatch({\r\n      type: 'UPD_KEY_VALUE',\r\n      kv:{key:'observeChanges',value:_Util.gen12CodeId()}\r\n    }) \r\n  }\r\n\r\n\r\n  const _updFormObs = () => {\r\n    dispatch({\r\n      type: 'UPD_KEY_VALUE',\r\n      kv:{key:'observeForms',value:_Util.gen12CodeId()}\r\n    })\r\n  }\r\n  \r\n\r\n  const _generateToken= (q,vS) => {\r\n    generateToken(q,dispatch,vS);\r\n  }\r\n\r\n  const _verifyToken = (q,vS) => {\r\n    verifyToken(q,dispatch,vS);\r\n  }\r\n  \r\n\r\n \r\n\r\n  return {  updKV,  goDark, forms , updForms, _updFormObs , _generateToken, _verifyToken}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Browser= (props)=>{\r\n \r\n  const {  _updFormObs, forms, updForms, _generateToken, _verifyToken } = useObserveChanges();\r\n\r\n  let _state = _Util.getStore();\r\n  let keys = _Util.getGlobalsKeys()  \r\n  let idWatch = \"\";\r\n  let classN = \"\"\r\n\r\n  const [initialize, setInitialize] = useState(false);  \r\n  const [isready, setIsready] = useState(false);  \r\n \r\n  \r\n\r\n\r\n\r\n  const [viewport, setviewport] = useState(false);\r\n  \r\n  const _formName = 'Logins';\r\n  const _form = _Util.getFormStore(_formName) || {};\r\n  \r\n  \r\n  const vldFlds = {\r\n    email:{reqired:true, email:true},\r\n    code:{reqired: true, uppercase:true}\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if(!initialize){\r\n      setInitialize(true); \r\n      setTimeout(()=>{\r\n        window.scrollTo(0,0)\r\n        setviewport(true); \r\n        _Util.updFormStore(_formName,{email:'hectoricardom@yahoo.com'})\r\n        _updFormObs();\r\n      },650) \r\n    }\r\n  });\r\n\r\n\r\nconst tryDiferentEmail = (q) => {\r\n  \r\n}\r\n\r\nconst handlerSubmit = () => {\r\n  if(code){\r\n    handleConfirmToken();\r\n  }else{\r\n    handleSentEmail();\r\n  }\r\n}\r\n\r\n\r\n\r\nconst handleSentEmail = (q) => {\r\n  var email =  _form?_form['email']:null;   \r\n  if(email){\r\n    let Qry = {\r\n      params:{email:email},    \r\n      query:\"generateToken\"\r\n    };\r\n    _generateToken(Qry, \"loginProfile\");\r\n   } \r\n}\r\n\r\nconst handleConfirmToken = (i) => {\r\n  var _code =  i?i:_form?_form['code']:null;   \r\n  console.log('handleConfirmToken _code',_code)\r\n  if(_code){\r\n    let Qry = {\r\n      params:{code:_code},    \r\n      query:\"verifyToken\"\r\n    };\r\n    _verifyToken(Qry, \"vTkn\");\r\n  }\r\n}\r\n\r\n\r\nlet loginProfile = _state[\"loginProfile\"] || {}\r\nconst {code, phonecode, errorCode, errorMsg} = loginProfile ;\r\n\r\n\r\nvar titles = {\r\n  \"en\":`We will send a code`,\r\n  \"es\":'Le enviaremos un codigo'\r\n} \r\n\r\n\r\nconst handleInput = (v,f) => {\r\n  let frm =  _form;\r\n  console.log(frm)\r\n  if(code){\r\n    var _i = v.toUpperCase();    \r\n    frm[f] = _i;\r\n    console.log('_i',_i)\r\n    \r\n    if(_i.length>5){\r\n        handleConfirmToken(_i);\r\n    }\r\n  }else{\r\n    frm[f] = v\r\n  }\r\n  _Util.updFormStore(_formName,frm)\r\n  _updFormObs();\r\n  //validateFields()\r\n}\r\n\r\n\r\nlet userA = _Util.getBrowser();\r\n  \r\nlet isMobile = userA.os === \"Android\" || userA.os === \"iPhone\" || _state[\"outerWidth\"]<550 ;\r\n\r\nvar codeTitle = {\r\n  \"en\":`Enter the 6-digit code sent to your phone number ending in ${phonecode}`,\r\n  \"es\":`Introdusca el codigo de 6 digitos enviado a su telefono terminado en ${phonecode}`\r\n} \r\n\r\n\r\n\r\n\r\nreturn (\r\n  <div className={`loadingLoging ${errorCode?'_error':''}`}>\r\n    {initialize?\r\n    <div className=\"c-tabs-content\"  is-in-viewport={`${viewport}`}>\r\n        <div className=\"left_Section left_SectionTextMedia left_SectionTextMedias lSectionNoPadding center_Tabs_Section\" aria-hidden={true} aria-labelledby=\"\" key={'8543845'} role=\"tabpanel\">                                             \r\n          <div className=\"--auto--margin grid--middle u-grid--override center_Tab_Content_Slide  desktop--6-12 tablet--8-12 mobile--11-12\">                                                  \r\n            <div className=\"grid__item desktop--4-12 tablet--11-12 --auto--margin\">\r\n              <div className=\"left_Section__text cascade-text desktop--10-12 tablet--8-12 mobile--12-12 --auto--margin\">\r\n                <h3 className=\"beta cascade-text__item white-Color-Text\"  btn-dt-id={`${_Util.Base64.encode(`datePickbutton${984823}`)}`}>{`${errorCode?errorMsg:code?'Introducir el código de verificación':'Login'}`}</h3>\r\n                <div className=\"text-normal cascade-text__item  white-backColor\">                                                                                 \r\n                  <div className={`OptionContM islogin active_`} style={{minWidth: `100%`}}> \r\n                    <div className={'_w100  _dsplFlx spaceAround'}  >\r\n                      <div  className=\"text-description\">{errorCode?errorMsg:code?codeTitle[\"es\"]:titles[\"es\"]}</div>\r\n                    </div>\r\n                    <div className={'_w100  _dsplFlx spaceAround'}  >\r\n                      <div className={`email--login`}>\r\n                          <InputText \r\n                            icon={`more_vert`} \r\n                            form={'Login'} \r\n                            field={code?`code`:`email`}  \r\n                            keyCode={49} \r\n                            background={errorCode?'#e53935':`#ff7817`}\r\n                            color={`#fff`}\r\n                            inputColor={`#fff`}\r\n                            placeholder={code?`Code`:`Email`} \r\n                            OnChange={(e)=>handleInput(e,code?`code`:`email`)}\r\n                            validations={vldFlds[code?`code`:`email`]}\r\n                            initvalue={_form[code?`code`:`email`]}\r\n                          />\r\n                      </div>  \r\n                    </div> \r\n                    <div className={'_w100  _dsplFlx spaceAround'}  >\r\n                      <div className={`paddField`}>\r\n                      <MoreInfoButton title={code?`Verify Code`:`Login`}  theme={\"gray\"} icon={'send'} clickEvent={()=>handlerSubmit()}/>    \r\n                      </div>\r\n                    </div> \r\n                    {code?\r\n                    <div className=\"center--padding--btn-login\">\r\n                        <div className=\"center--Container grayStyle\" onClick={tryDiferentEmail} style={{\"--color-tab--base--hover\":'#777'}}>\r\n                          <div className=\"hoverDiv grayBck \"/>\r\n                          <span className=\"text2D grayBck\">{`Try a diferent Email`}</span>              \r\n                        </div>   \r\n                    </div> \r\n                    :null}                          \r\n                  </div>                                                                                                  \r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </div>\r\n    </div>\r\n    :null}\r\n    {!viewport?\r\n      <div className>\r\n        <LoadingSlider stroke={'#fff'} height={120} width={120}/>\r\n      </div>\r\n    :null}\r\n  </div>\r\n  )\r\n  \r\n} \r\n\r\n\r\nexport default  withRedux(Browser)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n  <div className=\"_or_singup_\"><span>or SingUp with</span> </div>\r\n  <div className=\"__SingUpWithAmazon__Container\">\r\n      <div className=\"flexSpace\"/>\r\n      <NavLink  to={{pathname: 'singupAmazon'}}>\r\n        <img border=\"0\" alt=\"SingUp with Amazon\" src=\"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg\" width=\"156\" height=\"32\" />\r\n      </NavLink>\r\n      <div className=\"flexSpace\"/>\r\n  </div>\r\n\r\n  <a onClick={this.LoginWithAmazon.bind(this)}>                                                                       \r\n        <img border=\"0\" alt=\"SingUp with Amazon\" src=\"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg\" width=\"156\" height=\"32\" />\r\n  </a> \r\n*/"],"sourceRoot":""}